{"a_galaxy_workflow": "true", "annotation": "", "format-version": "0.1", "name": "GTN_Exemplar_002_TMA_workflow", "steps": {"0": {"annotation": "", "content_id": null, "errors": null, "id": 0, "input_connections": {}, "inputs": [{"description": "", "name": "markers.csv"}], "label": "markers.csv", "name": "Input dataset", "outputs": [], "position": {"left": 10, "top": 10}, "tool_id": null, "tool_state": "{\"optional\": false, \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "aa13fc5e-85a4-4d9d-a947-1efc2d784d12", "workflow_outputs": []}, "1": {"annotation": "", "content_id": null, "errors": null, "id": 1, "input_connections": {}, "inputs": [{"description": "", "name": "exemplar_002_phenotypes.csv"}], "label": "exemplar_002_phenotypes.csv", "name": "Input dataset", "outputs": [], "position": {"left": 10, "top": 130}, "tool_id": null, "tool_state": "{\"optional\": false, \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "19b0929a-ec46-4cb0-a709-e712e35d99d2", "workflow_outputs": []}, "2": {"annotation": "", "content_id": null, "errors": null, "id": 2, "input_connections": {}, "inputs": [{"description": "", "name": "Input Dataset Collection"}], "label": "Input Dataset Collection", "name": "Input dataset collection", "outputs": [], "position": {"left": 10, "top": 250}, "tool_id": null, "tool_state": "{\"optional\": false, \"tag\": null, \"collection_type\": \"list\"}", "tool_version": null, "type": "data_collection_input", "uuid": "5800178e-460f-40b7-b7fe-e97ff631c4e8", "workflow_outputs": []}, "3": {"annotation": "", "content_id": "quantification", "errors": null, "id": 3, "input_connections": {"channel_names": {"id": 0, "output_name": "output"}}, "inputs": [], "label": null, "name": "Quantification", "outputs": [{"name": "quantification", "type": "input"}, {"name": "cellmask", "type": "csv"}], "position": {"left": 230, "top": 130}, "post_job_actions": {}, "tool_id": "quantification", "tool_state": "{\"__input_ext\": \"input\", \"channel_names\": null, \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"image\": null, \"image|__identifier__\": \"3\", \"intensity_props\": \"\", \"mask_props\": \"\", \"primary_mask\": null, \"primary_mask|__identifier__\": \"3\", \"supp_masks\": null, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.5.1.6", "type": "tool", "uuid": "1a8af5b9-1e7c-4e19-87e2-7687d18309b9", "workflow_outputs": []}, "4": {"annotation": "", "content_id": "quantification", "errors": null, "id": 4, "input_connections": {"channel_names": {"id": 0, "output_name": "output"}}, "inputs": [], "label": null, "name": "Quantification", "outputs": [{"name": "quantification", "type": "input"}, {"name": "cellmask", "type": "csv"}], "position": {"left": 230, "top": 250}, "post_job_actions": {}, "tool_id": "quantification", "tool_state": "{\"__input_ext\": \"input\", \"channel_names\": null, \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"image\": null, \"image|__identifier__\": \"2\", \"intensity_props\": \"\", \"mask_props\": \"\", \"primary_mask\": null, \"primary_mask|__identifier__\": \"2\", \"supp_masks\": null, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.5.1.6", "type": "tool", "uuid": "2708f2e9-4f41-4c2b-899f-6e51aca5c8d7", "workflow_outputs": []}, "5": {"annotation": "", "content_id": "quantification", "errors": null, "id": 5, "input_connections": {"channel_names": {"id": 0, "output_name": "output"}}, "inputs": [], "label": null, "name": "Quantification", "outputs": [{"name": "quantification", "type": "input"}, {"name": "cellmask", "type": "csv"}], "position": {"left": 230, "top": 370}, "post_job_actions": {}, "tool_id": "quantification", "tool_state": "{\"__input_ext\": \"input\", \"channel_names\": null, \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"image\": null, \"image|__identifier__\": \"4\", \"intensity_props\": \"\", \"mask_props\": \"\", \"primary_mask\": null, \"primary_mask|__identifier__\": \"4\", \"supp_masks\": null, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.5.1.6", "type": "tool", "uuid": "ed66306b-0eab-4653-9a61-4c6db7cd4b4d", "workflow_outputs": []}, "6": {"annotation": "", "content_id": "basic_illumination", "errors": null, "id": 6, "input_connections": {"in_files": {"id": 2, "output_name": "output"}}, "inputs": [], "label": null, "name": "BaSiC Illumination", "outputs": [{"name": "output_dfp", "type": "tiff"}, {"name": "output_ffp", "type": "tiff"}], "position": {"left": 230, "top": 10}, "post_job_actions": {}, "tool_id": "basic_illumination", "tool_state": "{\"__input_ext\": \"input\", \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"in_files\": null, \"in_files|__identifier__\": \"exemplar-002-cycle-01.ome.tiff\", \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.0.2.3", "type": "tool", "uuid": "21eb3c11-1f5a-4950-831f-a18b714d4b37", "workflow_outputs": []}, "7": {"annotation": "", "content_id": "scimap_mcmicro_to_anndata", "errors": null, "id": 7, "input_connections": {"image_path": {"id": 5, "output_name": "cellmask"}}, "inputs": [], "label": null, "name": "Convert McMicro Output to Anndata", "outputs": [{"name": "outfile", "type": "h5ad"}], "position": {"left": 450, "top": 130}, "post_job_actions": {}, "tool_id": "scimap_mcmicro_to_anndata", "tool_state": "{\"__input_ext\": \"input\", \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"drop_markers\": \"\", \"image_path\": null, \"image_path|__identifier__\": \"1\", \"options\": {\"remove_dna\": \"true\", \"remove_string_from_name\": \"\", \"log\": \"true\", \"random_sample\": null, \"CellId\": \"CellID\", \"unique_CellId\": \"false\", \"split\": \"X_centroid\", \"custom_imageid\": \"\", \"min_cells\": null}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "0.0.1", "type": "tool", "uuid": "6f7673d6-8bad-4613-83b0-740efe14f183", "workflow_outputs": []}, "8": {"annotation": "", "content_id": "ashlar", "errors": null, "id": 8, "input_connections": {"ldfp": {"id": 6, "output_name": "output_dfp"}, "lffp": {"id": 6, "output_name": "output_ffp"}, "lraw": {"id": 2, "output_name": "output"}, "upgrade|markers_file": {"id": 0, "output_name": "output"}}, "inputs": [], "label": null, "name": "ASHLAR", "outputs": [{"name": "output", "type": "ome.tiff"}], "position": {"left": 450, "top": 10}, "post_job_actions": {}, "tool_id": "ashlar", "tool_state": "{\"__input_ext\": \"input\", \"adv\": {\"align_channel\": \"0\", \"filter_sigma\": null, \"tile_size\": null, \"flip_mosaic_x\": \"false\", \"flip_mosaic_y\": \"false\", \"pyramid\": \"true\"}, \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"flip_x\": \"false\", \"flip_y\": \"false\", \"ldfp\": null, \"lffp\": null, \"lraw\": null, \"max_shift\": \"30\", \"upgrade\": {\"decide\": \"do_upgrade\", \"__current_case__\": 0, \"markers_file\": null}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.14.0.1", "type": "tool", "uuid": "4d58a8d4-e745-4be1-aee9-e8323ad04d69", "workflow_outputs": []}, "9": {"annotation": "", "content_id": "scimap_phenotyping", "errors": null, "id": 9, "input_connections": {"anndata": {"id": 7, "output_name": "outfile"}, "gating_workflow": {"id": 1, "output_name": "output"}}, "inputs": [], "label": null, "name": "Single Cell Phenotyping", "outputs": [{"name": "gmm_plots", "type": "input"}, {"name": "output", "type": "h5ad"}], "position": {"left": 670, "top": 130}, "post_job_actions": {}, "tool_id": "scimap_phenotyping", "tool_state": "{\"__input_ext\": \"input\", \"anndata\": null, \"anndata|__identifier__\": \"1\", \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"gating_workflow\": null, \"manual_gates\": null, \"rescale_plots\": \"true\", \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "0.0.1", "type": "tool", "uuid": "90a8d494-553d-4b05-ac41-76e8c7f85d3b", "workflow_outputs": []}, "10": {"annotation": "", "content_id": "unet_coreograph", "errors": null, "id": 10, "input_connections": {"source_image": {"id": 8, "output_name": "output"}}, "inputs": [], "label": null, "name": "UNetCoreograph", "outputs": [{"name": "tma_sections", "type": "input"}, {"name": "masks", "type": "input"}, {"name": "TMA_MAP", "type": "tiff"}], "position": {"left": 670, "top": 10}, "post_job_actions": {}, "tool_id": "unet_coreograph", "tool_state": "{\"__input_ext\": \"input\", \"buffer\": \"2.0\", \"channel\": \"0\", \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"cluster\": \"false\", \"downsamplefactor\": \"5\", \"sensitivity\": \"0.3\", \"source_image\": null, \"tissue\": \"false\", \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.2.8.3", "type": "tool", "uuid": "65b0d544-5bd1-4e0f-9ec0-8c7571104ed6", "workflow_outputs": []}, "11": {"annotation": "", "content_id": "mesmer", "errors": null, "id": 11, "input_connections": {"nuclear_image": {"id": 10, "output_name": "tma_sections"}}, "inputs": [], "label": null, "name": "Mesmer", "outputs": [{"name": "mask", "type": "tiff"}], "position": {"left": 890, "top": 10}, "post_job_actions": {}, "tool_id": "mesmer", "tool_state": "{\"__input_ext\": \"input\", \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"compartment\": \"nuclear\", \"image_mpp\": \"0.65\", \"membrane_select\": {\"membrane_segment\": \"False\", \"__current_case__\": 1}, \"nuclear_channel\": \"0\", \"nuclear_image\": null, \"nuclear_image|__identifier__\": \"1\", \"squeeze\": \"true\", \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "0.3.1.no_ep.0", "type": "tool", "uuid": "7c3cfc2c-4da6-43b4-aded-1d86647a5fb9", "workflow_outputs": []}, "12": {"annotation": "", "content_id": "ip_convertimage", "errors": null, "id": 12, "input_connections": {"input_file": {"id": 10, "output_name": "tma_sections"}}, "inputs": [], "label": null, "name": "Convert image", "outputs": [{"name": "output", "type": "tiff"}], "position": {"left": 890, "top": 130}, "post_job_actions": {}, "tool_id": "ip_convertimage", "tool_state": "{\"__input_ext\": \"tiff\", \"bigtiff\": \"false\", \"channel_options\": {\"extract\": \"False\", \"__current_case__\": 0}, \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"compression\": \"False\", \"crop_options\": {\"extract\": \"False\", \"__current_case__\": 0}, \"input_file\": null, \"input_file|__identifier__\": \"1\", \"noflat\": \"true\", \"out_format\": \"ome.tiff\", \"pyramid_options\": {\"generate\": \"True\", \"__current_case__\": 0, \"pyramid_resolutions\": \"4\", \"pyramid_scale\": \"2\"}, \"range_options\": {\"extract\": \"False\", \"__current_case__\": 0}, \"series_options\": {\"extract\": \"False\", \"__current_case__\": 0}, \"tile_options\": {\"extract\": \"True\", \"__current_case__\": 1, \"tile_x\": \"512\", \"tile_y\": \"512\"}, \"timepoint_options\": {\"extract\": \"False\", \"__current_case__\": 0}, \"z_options\": {\"extract\": \"False\", \"__current_case__\": 0}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "6.7.0.5", "type": "tool", "uuid": "e8c5140b-e001-4b31-94f0-f48f44f79f1b", "workflow_outputs": []}, "13": {"annotation": "", "content_id": "quantification", "errors": null, "id": 13, "input_connections": {"channel_names": {"id": 0, "output_name": "output"}, "image": {"id": 10, "output_name": "tma_sections"}, "primary_mask": {"id": 11, "output_name": "mask"}}, "inputs": [], "label": null, "name": "Quantification", "outputs": [{"name": "quantification", "type": "input"}, {"name": "cellmask", "type": "csv"}], "position": {"left": 1110, "top": 10}, "post_job_actions": {}, "tool_id": "quantification", "tool_state": "{\"__input_ext\": \"input\", \"channel_names\": null, \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"image\": null, \"image|__identifier__\": \"1\", \"intensity_props\": \"\", \"mask_props\": \"\", \"primary_mask\": null, \"primary_mask|__identifier__\": \"1\", \"supp_masks\": null, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.5.1.6", "type": "tool", "uuid": "83693faf-de90-48ac-b5c5-5a1e7e87d373", "workflow_outputs": []}, "14": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/watsocam/rename_tiff_channels/rename_tiff_channels/0.0.1.2", "errors": null, "id": 14, "input_connections": {"channel_csv": {"id": 0, "output_name": "output"}, "image": {"id": 12, "output_name": "output"}}, "inputs": [], "label": null, "name": "Rename OME-TIFF Channels", "outputs": [{"name": "renamed_image", "type": "ome.tiff"}], "position": {"left": 1110, "top": 130}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/watsocam/rename_tiff_channels/rename_tiff_channels/0.0.1.2", "tool_shed_repository": {"changeset_revision": "75f8fcef3e96", "name": "rename_tiff_channels", "owner": "watsocam", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"__input_ext\": \"input\", \"channel_csv\": null, \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"image\": null, \"image|__identifier__\": \"1\", \"input_type\": \"ome.tiff\", \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "0.0.1.2", "type": "tool", "uuid": "b60c8d63-c25e-4e9d-8f53-b55fff4a2402", "workflow_outputs": []}, "15": {"annotation": "", "content_id": "vitessce_spatial", "errors": null, "id": 15, "input_connections": {"do_phenotyping|anndata": {"id": 9, "output_name": "output"}, "image": {"id": 14, "output_name": "renamed_image"}, "masks": {"id": 11, "output_name": "mask"}}, "inputs": [], "label": null, "name": "Vitessce Visualization", "outputs": [{"name": "output", "type": "html"}], "position": {"left": 1330, "top": 10}, "post_job_actions": {}, "tool_id": "vitessce_spatial", "tool_state": "{\"__input_ext\": \"input\", \"anndata|__identifier__\": \"1\", \"chromInfo\": \"/srv/galaxy/galaxy/config/len/?.len\", \"do_phenotyping\": {\"phenotyping_choice\": \"true\", \"__current_case__\": 0, \"anndata\": null, \"scatterplot_embeddings\": {\"embedding\": \"umap\", \"__current_case__\": 0, \"options\": {\"n_neighbors\": \"30\", \"n_pcs\": \"10\", \"knn\": \"true\", \"random_state\": \"0\"}}, \"phenotype_factory\": {\"phenotype_mode\": \"choices\", \"__current_case__\": 0, \"phenotypes\": [\"phenotype\"]}}, \"image\": null, \"image|__identifier__\": \"1\", \"masks\": null, \"masks|__identifier__\": \"1\", \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "0.0.1", "type": "tool", "uuid": "ac803576-f207-4ac6-b880-5527c7f0202d", "workflow_outputs": []}}, "tags": [], "uuid": "b4e3ef66-e091-4fb4-9364-423607cf08be", "version": 0}