{"a_galaxy_workflow": "true", "annotation": "Takes Fragment file as input and performs standard steps of scATAC-seq analysis: filtering, dimension reduction, embedding and visualization of marker genes.", "comments": [{"child_steps": [14], "color": "none", "data": {"title": "Dimension reduction"}, "id": 1, "position": [2673.651015158436, 450.06933781831617], "size": [547, 508], "type": "frame"}, {"child_steps": [15, 16, 17, 18], "color": "none", "data": {"title": "Clustering analysis"}, "id": 2, "position": [3225.3510151584364, 446.7693378183162], "size": [1181, 596], "type": "frame"}, {"child_steps": [9, 10, 11, 12, 13], "color": "none", "data": {"title": "Filtering"}, "id": 0, "position": [1608.1510151584362, 442.46933781831615], "size": [1048, 659], "type": "frame"}], "creator": [{"class": "Person", "name": "Timon Schlegel"}], "format-version": "0.1", "license": "CC-BY-4.0", "name": "Copy of Standard processing of 10X single cell ATAC-seq data with SnapATAC2", "steps": {"0": {"annotation": "", "content_id": null, "errors": null, "id": 0, "input_connections": {}, "inputs": [{"description": "", "name": "Fragment_file"}], "label": "Fragment_file", "name": "Input dataset", "outputs": [], "position": {"left": 0, "top": 257.82526550791295}, "tool_id": null, "tool_state": "{\"optional\": false, \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "d85f2f0d-f268-4a23-b2d5-6c393501cba7", "when": null, "workflow_outputs": []}, "1": {"annotation": "", "content_id": null, "errors": null, "id": 1, "input_connections": {}, "inputs": [{"description": "", "name": "chromosome_sizes.tabular"}], "label": "chromosome_sizes.tabular", "name": "Input dataset", "outputs": [], "position": {"left": 1, "top": 358.817326543248}, "tool_id": null, "tool_state": "{\"optional\": false, \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "d9e16b2d-dcc7-4324-8215-f816e7dd438a", "when": null, "workflow_outputs": []}, "2": {"annotation": "", "content_id": null, "errors": null, "id": 2, "input_connections": {}, "inputs": [{"description": "", "name": "gene_annotation"}], "label": "gene_annotation", "name": "Input dataset", "outputs": [], "position": {"left": 1169.7642679819223, "top": 1255.0024910339619}, "tool_id": null, "tool_state": "{\"optional\": false, \"tag\": null}", "tool_version": null, "type": "data_input", "uuid": "47c49efb-ca37-4d4a-a04a-117e9bf964b7", "when": null, "workflow_outputs": []}, "3": {"annotation": "Comma-separated list of obs/cells and vars/genes", "content_id": null, "errors": null, "id": 3, "input_connections": {}, "inputs": [{"description": "Comma-separated list of obs/cells and vars/genes", "name": "Keys for annotations of obs/cells or vars/genes"}], "label": "Keys for annotations of obs/cells or vars/genes", "name": "Input parameter", "outputs": [], "position": {"left": 6352.357504081271, "top": 1144.745943871803}, "tool_id": null, "tool_state": "{\"suggestions\": [\"leiden\", \"MS4A1\", \"CD3D\", \"LEF1\", \"NKG7\", \"TREM1\", \"LYZ\", \"PPBP\"], \"parameter_type\": \"text\", \"optional\": false}", "tool_version": null, "type": "parameter_input", "uuid": "155ed17a-e0ba-44b7-9a37-0c25ece3e8f2", "when": null, "workflow_outputs": []}, "4": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "errors": null, "id": 4, "input_connections": {"method|chrom_sizes": {"id": 1, "output_name": "output"}, "method|fragment_file": {"id": 0, "output_name": "output"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}, {"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}, {"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}], "label": "pp.import_data", "name": "SnapATAC2 Preprocessing", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 394.21833116874177, "top": 99.97859526385402}, "post_job_actions": {"HideDatasetActionanndata_out": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "anndata_out"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "cec3e76eaf05", "name": "snapatac2_preprocessing", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.import_data\", \"__current_case__\": 1, \"fragment_file\": {\"__class__\": \"ConnectedValue\"}, \"chrom_sizes\": {\"__class__\": \"ConnectedValue\"}, \"min_num_fragments\": \"200\", \"sorted_by_barcode\": false, \"whitelist\": {\"__class__\": \"RuntimeValue\"}, \"chrM\": \"chrM, M\", \"shift_left\": \"0\", \"shift_right\": \"0\", \"chunk_size\": \"2000\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "b5ade452-8fd7-4b37-aea2-53d070f57263", "when": null, "workflow_outputs": []}, "5": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_plotting/snapatac2_plotting/2.5.3+galaxy1", "errors": null, "id": 5, "input_connections": {"method|adata": {"id": 4, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Plotting", "name": "method"}], "label": "pl.frag_size_distr", "name": "SnapATAC2 Plotting", "outputs": [{"name": "out_png", "type": "png"}], "position": {"left": 743.7056130768294, "top": 0}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_plotting/snapatac2_plotting/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "fecf9664c885", "name": "snapatac2_plotting", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pl.frag_size_distr\", \"__current_case__\": 0, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"log_scale\": false, \"width\": \"600\", \"height\": \"400\", \"out_file\": \"png\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "2b265bbe-993d-4e44-b6a3-3366619688e1", "when": null, "workflow_outputs": []}, "6": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_plotting/snapatac2_plotting/2.5.3+galaxy1", "errors": null, "id": 6, "input_connections": {"method|adata": {"id": 4, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Plotting", "name": "method"}], "label": "pl.frag_size_distr_log", "name": "SnapATAC2 Plotting", "outputs": [{"name": "out_png", "type": "png"}], "position": {"left": 744.2878217859592, "top": 166.90521031008578}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_plotting/snapatac2_plotting/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "fecf9664c885", "name": "snapatac2_plotting", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pl.frag_size_distr\", \"__current_case__\": 0, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"log_scale\": true, \"width\": \"600\", \"height\": \"400\", \"out_file\": \"png\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "0e2db6d2-9ea9-42a9-9db1-7c3700c4e9ee", "when": null, "workflow_outputs": []}, "7": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "errors": null, "id": 7, "input_connections": {"method|adata": {"id": 4, "output_name": "anndata_out"}, "method|gene_anno": {"id": 2, "output_name": "output"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}, {"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}], "label": "metrics.tsse", "name": "SnapATAC2 Preprocessing", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 748.8191068126845, "top": 309.9929676948151}, "post_job_actions": {"TagDatasetActionanndata_out": {"action_arguments": {"tags": "non_filtered_matrix"}, "action_type": "TagDatasetAction", "output_name": "anndata_out"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "cec3e76eaf05", "name": "snapatac2_preprocessing", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"metrics.tsse\", \"__current_case__\": 12, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"gene_anno\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "ede4e9ce-bd49-4a3a-b476-8b7b5cf8645b", "when": null, "workflow_outputs": [{"label": "non_filtered_matrix", "output_name": "anndata_out", "uuid": "786d1563-2e65-48a9-bc95-b1cd0956c5b0"}]}, "8": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_plotting/snapatac2_plotting/2.5.3+galaxy1", "errors": null, "id": 8, "input_connections": {"method|adata": {"id": 7, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Plotting", "name": "method"}], "label": "pl.tsse", "name": "SnapATAC2 Plotting", "outputs": [{"name": "out_png", "type": "png"}], "position": {"left": 1006.4672018887231, "top": 169.76234265283736}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_plotting/snapatac2_plotting/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "fecf9664c885", "name": "snapatac2_plotting", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pl.tsse\", \"__current_case__\": 1, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"min_fragment\": \"500\", \"width\": \"600\", \"height\": \"400\", \"out_file\": \"png\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "6fa160a8-af9e-4cab-a01c-3ca2f2d0e248", "when": null, "workflow_outputs": []}, "9": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "errors": null, "id": 9, "input_connections": {"method|adata": {"id": 7, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}, {"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}], "label": "pp.filter_cells", "name": "SnapATAC2 Preprocessing", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 1673.1326904384234, "top": 488.1151051101307}, "post_job_actions": {"HideDatasetActionanndata_out": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "anndata_out"}, "TagDatasetActionanndata_out": {"action_arguments": {"tags": "filtered_count_matrix"}, "action_type": "TagDatasetAction", "output_name": "anndata_out"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "cec3e76eaf05", "name": "snapatac2_preprocessing", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.filter_cells\", \"__current_case__\": 4, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"min_counts\": \"5000\", \"min_tsse\": \"10.0\", \"max_counts\": \"100000\", \"max_tsse\": {\"__class__\": \"ConnectedValue\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "532c5db9-b298-425e-87f3-460dd99babd5", "when": null, "workflow_outputs": []}, "10": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "errors": null, "id": 10, "input_connections": {"method|adata": {"id": 9, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}], "label": "pp.add_tile_matrix", "name": "SnapATAC2 Preprocessing", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 2016.7974986072263, "top": 519.9176822961781}, "post_job_actions": {"HideDatasetActionanndata_out": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "anndata_out"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "cec3e76eaf05", "name": "snapatac2_preprocessing", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.add_tile_matrix\", \"__current_case__\": 2, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"bin_size\": \"500\", \"chunk_size\": \"500\", \"exclude_chroms\": \"chrM, chrY, M, Y\", \"min_frag_size\": null, \"max_frag_size\": null, \"count_frag_as_reads\": true}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "ccc223ac-e043-48b9-b482-abe723a63c92", "when": null, "workflow_outputs": []}, "11": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "errors": null, "id": 11, "input_connections": {"method|adata": {"id": 10, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}, {"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}, {"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}], "label": "pp.select_features", "name": "SnapATAC2 Preprocessing", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 2035.1393353215499, "top": 781.6107306253444}, "post_job_actions": {"HideDatasetActionanndata_out": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "anndata_out"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "cec3e76eaf05", "name": "snapatac2_preprocessing", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.select_features\", \"__current_case__\": 5, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"n_features\": \"250000\", \"filter_lower_quantile\": \"0.005\", \"filter_upper_quantile\": \"0.005\", \"whitelist\": {\"__class__\": \"RuntimeValue\"}, \"blacklist\": {\"__class__\": \"RuntimeValue\"}, \"max_iter\": \"1\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "ecbfb276-e472-4b57-b353-f81b64f2d3d9", "when": null, "workflow_outputs": []}, "12": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "errors": null, "id": 12, "input_connections": {"method|adata": {"id": 11, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}], "label": "pp.scrublet", "name": "SnapATAC2 Preprocessing", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 2358.491666804627, "top": 937.8798428594667}, "post_job_actions": {"HideDatasetActionanndata_out": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "anndata_out"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "cec3e76eaf05", "name": "snapatac2_preprocessing", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.scrublet\", \"__current_case__\": 6, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"features\": \"\", \"n_comps\": \"15\", \"sim_doublet_ratio\": \"2.0\", \"expected_doublet_rate\": \"0.1\", \"n_neighbors\": null, \"use_approx_neighbors\": false, \"random_state\": \"0\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "9ffd6d38-fa54-446b-98e3-fecf7834ecbe", "when": null, "workflow_outputs": []}, "13": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "errors": null, "id": 13, "input_connections": {"method|adata": {"id": 12, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}], "label": "pp.filter_doublets", "name": "SnapATAC2 Preprocessing", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 2408.2329633142845, "top": 652.2944755224237}, "post_job_actions": {"HideDatasetActionanndata_out": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "anndata_out"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "cec3e76eaf05", "name": "snapatac2_preprocessing", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.filter_doublets\", \"__current_case__\": 7, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"probability_threshold\": \"0.5\", \"score_threshold\": null}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "bdb6b39a-2c62-4c0e-8811-bdf6c03511c8", "when": null, "workflow_outputs": []}, "14": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_clustering/snapatac2_clustering/2.5.3+galaxy1", "errors": null, "id": 14, "input_connections": {"method|adata": {"id": 13, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Clustering", "name": "method"}, {"description": "runtime parameter for tool SnapATAC2 Clustering", "name": "method"}], "label": "tl.spectral", "name": "SnapATAC2 Clustering", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 2830.274448094945, "top": 544.4676235661738}, "post_job_actions": {"HideDatasetActionanndata_out": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "anndata_out"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_clustering/snapatac2_clustering/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "8f8bef61fd0b", "name": "snapatac2_clustering", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"tl.spectral\", \"__current_case__\": 0, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"n_comps\": \"30\", \"features\": {\"__class__\": \"RuntimeValue\"}, \"random_state\": \"0\", \"sample_size\": null, \"chunk_size\": \"20000\", \"distance_metric\": \"cosine\", \"weighted_by_sd\": true}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "ccd2484b-393f-4c81-b31c-2579d69b5d50", "when": null, "workflow_outputs": []}, "15": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_clustering/snapatac2_clustering/2.5.3+galaxy1", "errors": null, "id": 15, "input_connections": {"method|adata": {"id": 14, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Clustering", "name": "method"}], "label": "tl.umap", "name": "SnapATAC2 Clustering", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 3312.151015158436, "top": 765.4693378183163}, "post_job_actions": {"HideDatasetActionanndata_out": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "anndata_out"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_clustering/snapatac2_clustering/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "8f8bef61fd0b", "name": "snapatac2_clustering", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"tl.umap\", \"__current_case__\": 1, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"n_comps\": \"2\", \"use_dims\": null, \"use_rep\": \"X_spectral\", \"key_added\": \"umap\", \"random_state\": \"0\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "f361db19-9db8-4466-850f-0af06629988f", "when": null, "workflow_outputs": []}, "16": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_clustering/snapatac2_clustering/2.5.3+galaxy1", "errors": null, "id": 16, "input_connections": {"method|adata": {"id": 15, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Clustering", "name": "method"}], "label": "pp.knn", "name": "SnapATAC2 Clustering", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 3592.151015158436, "top": 765.4693378183163}, "post_job_actions": {"HideDatasetActionanndata_out": {"action_arguments": {}, "action_type": "HideDatasetAction", "output_name": "anndata_out"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_clustering/snapatac2_clustering/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "8f8bef61fd0b", "name": "snapatac2_clustering", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.knn\", \"__current_case__\": 2, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"n_neighbors\": \"50\", \"use_dims\": \"\", \"use_rep\": \"X_spectral\", \"algorithm\": \"kdtree\", \"random_state\": \"0\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "a62bda32-7664-48cc-aa87-9f4f43e58c07", "when": null, "workflow_outputs": []}, "17": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_clustering/snapatac2_clustering/2.5.3+galaxy1", "errors": null, "id": 17, "input_connections": {"method|adata": {"id": 16, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Clustering", "name": "method"}], "label": "tl.leiden", "name": "SnapATAC2 Clustering", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 3872.151015158436, "top": 672.4693378183163}, "post_job_actions": {"DeleteIntermediatesActionanndata_out": {"action_arguments": {}, "action_type": "DeleteIntermediatesAction", "output_name": "anndata_out"}}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_clustering/snapatac2_clustering/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "8f8bef61fd0b", "name": "snapatac2_clustering", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"tl.leiden\", \"__current_case__\": 3, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"resolution\": \"1.0\", \"objective_function\": \"modularity\", \"min_cluster_size\": \"5\", \"n_iterations\": \"-1\", \"random_state\": \"0\", \"key_added\": \"leiden\", \"weighted\": false}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "f287b8cc-bf45-4aaf-8d53-507c7483b8ab", "when": null, "workflow_outputs": [{"label": "anndata_leiden_clustering", "output_name": "anndata_out", "uuid": "67b88ddf-6fec-4b43-a796-502428e44d1a"}]}, "18": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_plotting/snapatac2_plotting/2.5.3+galaxy1", "errors": null, "id": 18, "input_connections": {"method|adata": {"id": 17, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Plotting", "name": "method"}], "label": "pl.umap", "name": "SnapATAC2 Plotting", "outputs": [{"name": "out_png", "type": "png"}], "position": {"left": 4152.151015158436, "top": 564.4693378183161}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_plotting/snapatac2_plotting/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "fecf9664c885", "name": "snapatac2_plotting", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pl.umap\", \"__current_case__\": 2, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"color\": \"leiden\", \"use_rep\": \"X_umap\", \"marker_size\": null, \"marker_opacity\": \"1.0\", \"sample_size\": null, \"width\": \"600\", \"height\": \"500\", \"out_file\": \"png\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "f1053d7c-141f-4c89-b7fb-6a3d23e749e4", "when": null, "workflow_outputs": []}, "19": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "errors": null, "id": 19, "input_connections": {"method|adata": {"id": 17, "output_name": "anndata_out"}, "method|gene_anno": {"id": 2, "output_name": "output"}}, "inputs": [{"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}, {"description": "runtime parameter for tool SnapATAC2 Preprocessing", "name": "method"}], "label": "make_gene_matrix", "name": "SnapATAC2 Preprocessing", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 4564.875653433912, "top": 1176.4800168890142}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/snapatac2_preprocessing/snapatac2_preprocessing/2.5.3+galaxy1", "tool_shed_repository": {"changeset_revision": "cec3e76eaf05", "name": "snapatac2_preprocessing", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.make_gene_matrix\", \"__current_case__\": 3, \"adata\": {\"__class__\": \"ConnectedValue\"}, \"gene_anno\": {\"__class__\": \"ConnectedValue\"}, \"chunk_size\": \"500\", \"use_x\": false, \"id_type\": \"gene\", \"transcript_name_key\": \"transcript_name\", \"transcript_id_key\": \"transcript_id\", \"gene_name_key\": \"gene_name\", \"gene_id_key\": \"gene_id\", \"min_frag_size\": null, \"max_frag_size\": null, \"count_frag_as_reads\": true}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "2.5.3+galaxy1", "type": "tool", "uuid": "53e89ab9-167f-4d25-8c4e-bbab9f54ec5f", "when": null, "workflow_outputs": []}, "20": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_filter/scanpy_filter/1.9.6+galaxy2", "errors": null, "id": 20, "input_connections": {"adata": {"id": 19, "output_name": "anndata_out"}}, "inputs": [], "label": "scanpy_filter_genes", "name": "Filter", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 4979.067464428606, "top": 745.5721034301001}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_filter/scanpy_filter/1.9.6+galaxy2", "tool_shed_repository": {"changeset_revision": "277313130da5", "name": "scanpy_filter", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.filter_genes\", \"__current_case__\": 1, \"filter\": {\"filter\": \"min_cells\", \"__current_case__\": 2, \"min_cells\": \"5\"}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.9.6+galaxy2", "type": "tool", "uuid": "150972cd-37f1-4c9c-aa28-18c03e1f8c4a", "when": null, "workflow_outputs": []}, "21": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_normalize/scanpy_normalize/1.9.6+galaxy2", "errors": null, "id": 21, "input_connections": {"adata": {"id": 20, "output_name": "anndata_out"}}, "inputs": [], "label": null, "name": "Normalize", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 5318.877601154252, "top": 755.5721453060034}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_normalize/scanpy_normalize/1.9.6+galaxy2", "tool_shed_repository": {"changeset_revision": "7b9fafe32c86", "name": "scanpy_normalize", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.normalize_total\", \"__current_case__\": 0, \"target_sum\": null, \"exclude_highly_expressed\": {\"exclude_highly_expressed\": \"False\", \"__current_case__\": 1}, \"key_added\": \"\", \"layers\": \"\", \"layer_norm\": \"None\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.9.6+galaxy2", "type": "tool", "uuid": "1ad59f0e-ea3a-4413-9c70-6df9d68a9d77", "when": null, "workflow_outputs": []}, "22": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_inspect/scanpy_inspect/1.9.6+galaxy2", "errors": null, "id": 22, "input_connections": {"adata": {"id": 21, "output_name": "anndata_out"}}, "inputs": [], "label": "pp.log1p", "name": "Inspect and manipulate", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 5625.791840182879, "top": 786.9724264675089}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_inspect/scanpy_inspect/1.9.6+galaxy2", "tool_shed_repository": {"changeset_revision": "5c3ebe2adc77", "name": "scanpy_inspect", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"pp.log1p\", \"__current_case__\": 5}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.9.6+galaxy2", "type": "tool", "uuid": "d22fd30f-bd87-41a9-9a58-6fc2029cf1bb", "when": null, "workflow_outputs": []}, "23": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_normalize/scanpy_normalize/1.9.6+galaxy2", "errors": null, "id": 23, "input_connections": {"adata": {"id": 22, "output_name": "anndata_out"}}, "inputs": [], "label": "external.pp.magic", "name": "Normalize", "outputs": [{"name": "anndata_out", "type": "h5ad"}], "position": {"left": 5958.1260845407505, "top": 797.4771522243852}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_normalize/scanpy_normalize/1.9.6+galaxy2", "tool_shed_repository": {"changeset_revision": "7b9fafe32c86", "name": "scanpy_normalize", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"method\": {\"method\": \"external.pp.magic\", \"__current_case__\": 4, \"name_list\": \"pca_only\", \"knn\": \"5\", \"decay\": \"1\", \"knn_max\": null, \"t\": \"3\", \"n_pca\": \"100\", \"solver\": \"approximate\", \"knn_dist\": \"euclidean\", \"random_state\": \"0\"}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.9.6+galaxy2", "type": "tool", "uuid": "477afbdb-c986-4ec8-8677-70d628e0dca3", "when": null, "workflow_outputs": []}, "24": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/ebi-gxa/anndata_ops/anndata_ops/1.9.3+galaxy0", "errors": null, "id": 24, "input_connections": {"copy_e|embedding_sources": {"id": 17, "output_name": "anndata_out"}, "input_obj_file": {"id": 23, "output_name": "anndata_out"}}, "inputs": [{"description": "runtime parameter for tool AnnData Operations", "name": "copy_e"}], "label": null, "name": "AnnData Operations", "outputs": [{"name": "output_h5ad", "type": "h5ad"}], "position": {"left": 6332.931165846305, "top": 842.8142833221078}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/ebi-gxa/anndata_ops/anndata_ops/1.9.3+galaxy0", "tool_shed_repository": {"changeset_revision": "a4774b7b2e85", "name": "anndata_ops", "owner": "ebi-gxa", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"add_cell_metadata\": {\"default\": false, \"__current_case__\": 1}, \"copy_adata_to_raw\": false, \"copy_e\": {\"default\": true, \"__current_case__\": 0, \"embedding_keys\": [{\"__index__\": 0, \"contains\": \"X_umap\"}], \"embedding_sources\": {\"__class__\": \"ConnectedValue\"}}, \"copy_l\": {\"default\": false, \"__current_case__\": 1}, \"copy_o\": {\"default\": false, \"__current_case__\": 1}, \"copy_r\": {\"default\": false, \"__current_case__\": 1}, \"copy_u\": {\"default\": false, \"__current_case__\": 1}, \"copy_x\": {\"default\": false, \"__current_case__\": 1}, \"field_unique\": null, \"gene_flags\": [], \"gene_symbols_field\": \"index\", \"input_obj_file\": {\"__class__\": \"ConnectedValue\"}, \"modifications\": [], \"output_format\": \"anndata_h5ad\", \"sanitize_varm\": false, \"split_on_obs\": {\"default\": false, \"__current_case__\": 1}, \"swap_layer_to_x\": {\"default\": false, \"__current_case__\": 1}, \"top_genes\": \"50\", \"var_modifications\": [], \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.9.3+galaxy0", "type": "tool", "uuid": "b3e7e3fa-b075-4f42-8fd5-c367918d7a02", "when": null, "workflow_outputs": [{"label": "output_h5ad", "output_name": "output_h5ad", "uuid": "3fd149c5-ba18-4929-b8cf-8a38bb0d7431"}]}, "25": {"annotation": "", "content_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.9.6+galaxy2", "errors": null, "id": 25, "input_connections": {"adata": {"id": 24, "output_name": "output_h5ad"}, "method|color": {"id": 3, "output_name": "output"}}, "inputs": [{"description": "runtime parameter for tool Plot", "name": "method"}], "label": "umap_plot_with_scanpy", "name": "Plot", "outputs": [{"name": "out_png", "type": "png"}], "position": {"left": 6746.918699000224, "top": 912.1420600847347}, "post_job_actions": {}, "tool_id": "toolshed.g2.bx.psu.edu/repos/iuc/scanpy_plot/scanpy_plot/1.9.6+galaxy2", "tool_shed_repository": {"changeset_revision": "6f5349dd5c49", "name": "scanpy_plot", "owner": "iuc", "tool_shed": "toolshed.g2.bx.psu.edu"}, "tool_state": "{\"adata\": {\"__class__\": \"ConnectedValue\"}, \"advanced_common\": {\"show_log\": false}, \"format\": \"png\", \"method\": {\"method\": \"pl.umap\", \"__current_case__\": 14, \"color\": {\"__class__\": \"ConnectedValue\"}, \"use_raw\": false, \"edges\": {\"edges\": \"False\", \"__current_case__\": 1}, \"arrows\": false, \"sort_order\": true, \"groups\": \"\", \"plot\": {\"components\": [], \"projection\": \"2d\", \"legend_loc\": \"right margin\", \"legend_fontsize\": null, \"legend_fontweight\": \"normal\", \"size\": null, \"color_map\": null, \"palette\": null, \"frameon\": true, \"ncols\": \"4\", \"wspace\": \"0.1\", \"hspace\": \"0.25\", \"title\": \"\"}, \"matplotlib_pyplot_scatter\": {\"alpha\": null, \"vmin\": null, \"vmax\": null, \"linewidths\": \"0.0\", \"edgecolors\": null}}, \"__page__\": null, \"__rerun_remap_job_id__\": null}", "tool_version": "1.9.6+galaxy2", "type": "tool", "uuid": "66a2ce3e-76ed-46dd-a78e-827903b8d8f0", "when": null, "workflow_outputs": []}}, "tags": ["scATAC-seq", "epigenetics"], "uuid": "356a7460-89d1-4d94-9f60-b4c68d3bca3c", "version": 3}