---
layout: base
---

{% assign material = page.material %}
{% assign workflow = page.workflow %}
<style>
hgroup {margin-bottom: 2rem; border-bottom: 1px solid var(--border-light);}
hgroup p { font-family: monospace; font-size: 0.8rem;}
</style>

<section>
	<hgroup>
		<h1 data-toc-skip>{{ workflow.title }}</h1>
		<p>{{ workflow.wfid }}/{{ workflow.wfname }}</p>
	</hgroup>
	{% if workflow.description %}
	<p>{{ workflow.description }}</p>
	{% endif %}
	<div class="row">
		<div class="col-md-3">
			{% if workflow.creators %}
			<b>Author(s)</b>
			<br/>
			{% for entity in workflow.creators %}
			{{ entity.name }}{% if forloop.last == false %}, {% endif %}
			{% endfor %}
			{% endif %}
			<br/>

			{% icon version %}
			<b>Version</b>
			<br/>
			{{ workflow.path | get_version_number }}

			<br/>

			{% icon last_modification %}
			<b>Last updated</b>
			<br/>
			{{ workflow.path | gtn_mod_date | date: "%b %-d, %Y" }}

			<br/>

			{% icon license %}
			<b>License</b>
			<br/>
				{% if workflow.license %}
				<a href="https://spdx.org/licenses/{{ workflow.license }}">{{ workflow.license }}</a>
				{% else %}
				None Specified, defaults to
				<a href="https://spdx.org/licenses/CC-BY-4.0">CC-BY-4.0</a>
				{% endif %}

			<b>Features</b>
			<br/>

			<ul>
			{% if workflow.tests %}
				<li>Includes <a href="https://training.galaxyproject.org/training-material/faqs/gtn/workflow_run_test.html">Galaxy Workflow Tests</a> </li>
			{% endif %}
			</ul>
			<hr/>


			{% if workflow.tags %}
			{% icon galaxy-tags %} {{ workflow.tags | join: ", " }}
			</br>
			{% endif %}

			<b>Tutorial</b>
			<br/>
			{% icon hands_on %} <a href="../tutorial.html">{{ material.title }}</a>
			</br>

			{% assign workflow_count = material.workflows | size %}
			{% if workflow_count > 1 %}
			{% icon workflow %} <a href="index.html">Other workflows associated with this material</a>
			{% endif %}


			<hr/>
			<b>Workflow Testing</b>
			<br/>

			Tests: {% if workflow.tests %}✅{% else %}❌{% endif %} <br/>
			Results: {% if workflow.test_results == nil %}Not yet automated{% endif %}

			<hr/>

			<b>FAIR</b>

			{% if jekyll.environment == "production" %}
			{% endif %}
			<a style="margin-bottom: 0.2rem" href="{{ site.baseurl }}/api/workflows/#{topic_id}/#{tutorial_id}/#{wfid}/rocrate.zip" class="btn btn-secondary"><img src="{% link assets/images/ro-crate.png %}" style="height: 32px" alt="RO-Crate logo with flask"/> Download Workflow RO-Crate</a>

			<a style="margin-bottom: 0.2rem" href="{{ site.baseurl }}/api/workflows/#{topic_id}/#{tutorial_id}/#{wfid}/rocrate.zip" class="btn btn-secondary"><img src="{% link assets/images/workflowhub-icon.svg %}" style="height: 32px" alt="Workflowhub cloud with gears logo"/> View on WorkflowHub</a>

		</div>
		<div class="col-md-9">
			<p>To use these workflows in Galaxy you can either click the links to download the workflows, or you can right-click and copy the link to the workflow which can be used in the Galaxy form to import workflows.</p>

			<span tabindex="0" role="button" class="workflow show-when-galaxy-proxy-active" data-workflow="{{ workflow.trs_endpoint }}">Launch in Tutorial Mode</span>
			<a href="{% link faqs/galaxy/tutorial_mode.md %}" class="show-when-galaxy-proxy-active">{% icon question %}</a>
			<br/>

			<a class="btn btn-secondary" href="{{ site.url }}{{ site.baseurl }}/{{ workflow.path }}">
				Download
			</a>
			<span class="dropdown">
				<button class="btn btn-primary dropdown-toggle" type="button" data-toggle="dropdown" aria-expanded="false">
					<img src="{% link assets/images/galaxylogo.png %}" style="height: 16px" alt="galaxy logo"/> 
					Run Workflow in Galaxy
				</button>
				<ul class="dropdown-menu">
					{% assign servers = nil | list_usegalaxy_servers_shuffle %}
					{% for server in servers %}
					<li class="dropdown-item"><a href="{{ server.url }}/workflows/trs_import?run_form=true&trs_url={{ workflow.trs_endpoint }}">{{ server.human }}</a></li>
					{% endfor %}
					<li class="dropdown-item hide-when-galaxy-proxy-active">
						<a href="https://my.galaxy.training/?path=/workflows/trs_import%3Frun_form=true%26trs_url={{ workflow.trs_endpoint }}">Import to another server (≥23.0+ only!)</a>
					</li>
				</ul>
			</span>
			<pre class="mermaid">{{ workflow.mermaid }}</pre>

			<h2>Importing into Galaxy</h2>
			Below are the instructions for importing these workflows directly into your Galaxy server of choice to start using them!

			{% snippet faqs/galaxy/workflows_import.md box_type="hands_on" %}
		</div>
	</div>
</section>


</section>
